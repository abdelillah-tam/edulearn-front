<main class="flex h-full w-full justify-center px-4 md:px-8">
  <ul
    class="flex h-full w-full flex-col items-center justify-center gap-8 md:flex-row md:gap-0"
  >
    <li
      class="flex cursor-pointer flex-col items-center gap-4 select-none md:basis-1/2"
      routerLink="/"
    >
      <div class="bg-red-theme flex rounded-xl p-2">
        <mat-icon
          class="material-symbols-rounded mat-icon"
          fontIcon="school"
        ></mat-icon>
      </div>
      <h1 class="text-center text-lg">EduLearn Platform</h1>
      <p class="text-center text-gray-500">
        Sign in to continue your learning journey
      </p>
    </li>

    <li class="flex w-full rounded-xl border border-gray-300 md:basis-1/2">
      <form
        class="flex w-full flex-col gap-4 p-4"
        [formGroup]="signupFormGroup"
      >
        <div>
          <p class="font-bold">Welcome Back</p>
          <p class="text-gray-500">Sign in to your account</p>
        </div>
        <ul class="flex w-full justify-between rounded-xl bg-red-100 p-1">
          <li class="flex basis-1/2 justify-center">
            <label
              class="flex w-full cursor-pointer appearance-none justify-center rounded-xl py-1 font-bold"
              [class.bg-white]="selectedType === 0"
            >
              <input
                type="radio"
                formControlName="type"
                class="appearance-none"
                value="Student"
                name="type"
                (click)="selectType(0)"
              />
              Student</label
            >
          </li>
          <li class="flex basis-1/2 cursor-pointer justify-center">
            <label
              class="flex w-full cursor-pointer justify-center rounded-xl py-1 font-bold"
              [class.bg-white]="selectedType === 1"
            >
              <input
                type="radio"
                (click)="selectType(1)"
                formControlName="type"
                class="appearance-none"
                value="Instructor"
                name="type"
              />
              Instructor
            </label>
          </li>
        </ul>

        <div class="flex w-full flex-col gap-1">
          <label for="fullname" class="font-bold">Full Name</label>
          <input
            class="input-style"
            type="text"
            placeholder="Ayoub Tamoussat"
            name="fullname"
            formControlName="fullname"
            required
          />
          @if (
            signupFormGroup.controls.fullname.invalid &&
            signupFormGroup.controls.fullname.touched
          ) {
            <p class="text-red-theme">This field is required</p>
          }
        </div>

        <div class="flex w-full flex-col gap-1">
          <label for="email" class="font-bold">Email</label>
          <input
            class="input-style"
            type="email"
            placeholder="student@example.com"
            name="email"
            formControlName="email"
            required
          />
          @if (
            signupFormGroup.controls.email.invalid &&
            signupFormGroup.controls.email.touched
          ) {
            <p class="text-red-theme">This field is required</p>
          }
        </div>

        <div class="flex w-full flex-col gap-1">
          <label for="password" class="font-bold">Password</label>
          <input
            class="input-style"
            type="password"
            placeholder="••••••••"
            name="password"
            formControlName="password"
            required
          />
          @if (
            signupFormGroup.controls.password.invalid &&
            signupFormGroup.controls.password.touched
          ) {
            <p class="text-red-theme">This field is required</p>
          }
        </div>

        <div class="flex w-full flex-col gap-1">
          <label for="password_confirmation" class="font-bold"
            >Confirm Password</label
          >
          <input
            class="input-style"
            type="password"
            placeholder="••••••••"
            name="password_confirmation"
            formControlName="password_confirmation"
            required
          />
          @if (
            signupFormGroup.controls.password_confirmation.invalid &&
            signupFormGroup.controls.password_confirmation.touched
          ) {
            <p class="text-red-theme">This field is required</p>
          }
        </div>

        <button
          type="button"
          class="red-btn"
          (click)="signup()"
          [disabled]="isSignupLoading"
        >
          @if (isSignupLoading) {
            <mat-spinner class="signin-loading" [diameter]="25"></mat-spinner>
          } @else {
            @if (selectedType === 0) {
              Create Student Account
            } @else {
              Create Instructor Account
            }
          }
        </button>

        <p class="w-full text-center text-xs text-gray-500">
          By signing up, you agree to our Terms of Service
        </p>

        <button type="button" class="w-full text-gray-500">
          Already have an account?
          <a
            class="text-red-theme cursor-pointer hover:underline"
            routerLink="/signin"
            >Sign in</a
          >
        </button>
      </form>
    </li>
  </ul>
</main>
